<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title></title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>


        <style type="text/css">

            .full {
                background-color:#000000;	
            }

            .empty{

            }

            div div{
                width:50px;height:50px;border-radius:50%;border-style: solid;  border-color: black;
            }
        </style>

    </head>
    <body>
        <div id="before">
            <div id="a1" class="empty"  style="position: absolute;left:150px"></div>
            <div id="b1" class="empty" style="position: absolute;left:100px;top:50px;"></div>

            <div id="c1"  class="empty" style="position: absolute;left:50px;top:100px;"></div>

            <div id="d1" class="empty"  style="position: absolute;left:100px;top:150px;"></div>

            <div id="e1" class="empty"  style="position: absolute;left:150px;top:200px;"></div>

            <div id="f1"  class="empty" style="position: absolute;left:200px;top:150px;"></div>

            <div id="g1"  class="empty" style="position: absolute;left:250px;top:100px;"></div>

            <div id="h1" class="empty"  style="position: absolute;left:200px;top:50px;"></div>


        </div>
        <button id="go"  type="button" class="btn btn-success" style="position: absolute;left:320px;top:100px;">GO!</button>


        <div id="after" style="position: absolute;left:50px">
            <div id="a2" class="empty"  style="position: absolute;left:450px"></div>
            <div id="b2" class="empty" style="position: absolute;left:400px;top:50px;"></div>

            <div id="c2"  class="empty" style="position: absolute;left:350px;top:100px;"></div>

            <div id="d2" class="empty"  style="position: absolute;left:400px;top:150px;"></div>

            <div id="e2" class="empty"  style="position: absolute;left:450px;top:200px;"></div>

            <div id="f2"  class="empty" style="position: absolute;left:500px;top:150px;"></div>

            <div id="g2"  class="empty" style="position: absolute;left:550px;top:100px;"></div>

            <div id="h2" class="empty"  style="position: absolute;left:500px;top:50px;"></div>


        </div>
        <button id="begin"  type="button" class="btn btn-success" style="position: absolute;left:120px;top:300px;">设置到模拟器</button>


        <div id="free" style="position: absolute;top:350px" >
            <div id="a3" class="empty"  style="position: absolute;left:150px"></div>
            <div id="b3" class="empty" style="position: absolute;left:100px;top:50px;"></div>

            <div id="c3"  class="empty" style="position: absolute;left:50px;top:100px;"></div>

            <div id="d3" class="empty"  style="position: absolute;left:100px;top:150px;"></div>

            <div id="e3" class="empty"  style="position: absolute;left:150px;top:200px;"></div>

            <div id="f3"  class="empty" style="position: absolute;left:200px;top:150px;"></div>

            <div id="g3"  class="empty" style="position: absolute;left:250px;top:100px;"></div>

            <div id="h3" class="empty"  style="position: absolute;left:200px;top:50px;"></div>


        </div>

        <script type="text/javascript">
            // 初始点击事件
            $("#before div").click(function () {
                change($(this));
            });
            function change(color) {
                if ($(color).prop('className') !== "empty") {
                    $(color).prop('class', 'empty');
                } else {
                    $(color).prop('class', 'full');
                }

            }


            // 模拟器
            $("#free div").click(function () {

                change($(this));
                change($(this).next());
                change($(this).prev());
                if ($(this).prop('id') == "a3") {
                    change($("#h3"));
                }
                if ($(this).prop('id') == "h3") {
                    change($("#a3"));
                }

            });

            // 准备一些变量
            var a = 0, b = 0, c = 0, d = 0, e = 0, f = 0, g = 0, h = 0;
            var a1 = 0, b1 = 0, c1 = 0, d1 = 0, e1 = 0, f1 = 0, g1 = 0, h1 = 0;
            var a2, b2, c2, d2, e2, f2, g2, h2;

            // 设置模拟器
            $("#begin").click(function () {
                $("#free div").each(function () {
                    $(this).prop('class', 'empty');
                });

                getBefore();
                $("#free div").each(function (i) {
                    var id = $(this).prop("id");
                    if (id == "a3") {
                        if (a1 > 0) {
                            $(this).prop('class', 'full');
                        }
                    }
                    if (id == "b3") {
                        if (b1 > 0) {
                            $(this).prop('class', 'full');
                        }
                    }
                    if (id == "c3") {
                        if (c1 > 0) {
                            $(this).prop('class', 'full');
                        }
                    }

                    if (id == "d3") {
                        if (d1 > 0) {
                            $(this).prop('class', 'full');
                        }
                    }

                    if (id == "e3") {
                        if (e1 > 0) {
                            $(this).prop('class', 'full');
                        }
                    }

                    if (id == "f3") {
                        if (f1 > 0) {
                            $(this).prop('class', 'full');
                        }
                    }

                    if (id == "g3") {
                        if (g1 > 0) {
                            $(this).prop('class', 'full');
                        }
                    }

                    if (id == "h3") {
                        if (h1 > 0) {
                            $(this).prop('class', 'full');
                        }
                    }
                });
            });


            // 获取数据
            function getBefore() {
                $("#before .full").each(function (i) {
                    var id = $(this).prop("id");
                    if (id == "a1") {
                        a1 = 1;
                    }
                    if (id == "b1") {
                        b1 = 1;
                    }
                    if (id == "c1") {
                        c1 = 1;
                    }
                    if (id == "d1") {
                        d1 = 1;
                    }
                    if (id == "e1") {
                        e1 = 1;
                    }
                    if (id == "f1") {
                        f1 = 1;
                    }
                    if (id == "g1") {
                        g1 = 1;
                    }
                    if (id == "h1") {
                        h1 = 1;
                    }
                });
            }

            // 开始计算
            $("#go").click(function () {
         
                getBefore();
                $("#after div").each(function () {
                    $(this).prop('class', 'empty');
                });

                for (a = 0; a <= 1; a++)
                {

                    for (b = 0; b <= 1; b++)
                    {
                        for (c = 0; c <= 1; c++)
                        {
                            for (d = 0; d <= 1; d++)
                            {
                                for (e = 0; e <= 1; e++)
                                {
                                    for (f = 0; f <= 1; f++)
                                    {
                                        for (g = 0; g <= 1; g++)
                                        {
                                            for (h = 0; h <= 1; h++)
                                            {
                                                a2 = h + a + b + a1;
                                                b2 = a + b + c + b1;
                                                c2 = b + c + d + c1;
                                                d2 = c + d + e + d1;
                                                e2 = d + e + f + e1;
                                                f2 = e + f + g + f1;
                                                g2 = f + g + h + g1;
                                                h2 = g + h + a + h1;
                                                if (((a2 == 0) || (a2 == 2) || (a2 == 4)) && ((b2 == 0) || (b2 == 2) || (b2 == 4)) && ((c2 == 0) || (c2 == 2) || (c2 == 4)) && ((d2 == 0) || (d2 == 2) || (d2 == 4))
                                                        && ((e2 == 0) || (e2 == 2) || (e2 == 4)) && ((f2 == 0) || (f2 == 2) || (f2 == 4)) && ((g2 == 0) || (g2 == 2) || (g2 == 4)) && ((h2 == 0) || (h2 == 2) || (h2 == 4)))

                                                {
                           
                                                
                                                    // 输出结果
                                                    $("#after div").each(function (i) {
                                                        var id = $(this).prop("id");
                                                        if (id == "a2") {
                                                            if (a == 0) {
                                                                $(this).prop('class', 'full');
                                                            }
                                                        }
                                                        if (id == "b2") {
                                                            if (b == 0) {
                                                                $(this).prop('class', 'full');
                                                            }
                                                        }
                                                        if (id == "c2") {
                                                            if (c == 0) {
                                                                $(this).prop('class', 'full');
                                                            }
                                                        }

                                                        if (id == "d2") {
                                                            if (d == 0) {
                                                                $(this).prop('class', 'full');
                                                            }
                                                        }

                                                        if (id == "e2") {
                                                            if (e == 0) {
                                                                $(this).prop('class', 'full');
                                                            }
                                                        }

                                                        if (id == "f2") {
                                                            if (f == 0) {
                                                                $(this).prop('class', 'full');
                                                            }
                                                        }

                                                        if (id == "g2") {
                                                            if (g == 0) {
                                                                $(this).prop('class', 'full');
                                                            }
                                                        }

                                                        if (id == "h2") {
                                                            if (h == 0) {
                                                                $(this).prop('class', 'full');
                                                            }
                                                        }
                                                    });
                                                    return false; // 成功跳出循环
                                                }

                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }



            });


        </script>
    </body>
</html>